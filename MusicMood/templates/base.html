<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MusicMood</title>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>

  <style>
    :root{
      --bg: #0B1222;
      --panel: #0f172a;
      --muted: #9aa4b2;
      --text: #e6edf3;
      --stroke: #293244;
      --brand: #7c3aed;   /* purple */
      --brand-2: #06b6d4; /* cyan   */
      --accent: #0ea5e9;  /* blue   */
      --radius: 14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --shadow-soft: 0 4px 16px rgba(0,0,0,.25);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0; font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: var(--text); background: radial-gradient(1200px 900px at 10% -5%, rgba(124,58,237,.12), transparent 70%),
                           radial-gradient(1000px 700px at 100% 0%, rgba(6,182,212,.10), transparent 60%),
                           var(--bg);
    }
    .container{ max-width: 1100px; margin: 0 auto; padding: 40px 24px 80px; }

    /* Hero */
    .hero { margin: 4px 0 22px; }
    .brand { display:flex; align-items:center; gap:.6rem; font-weight:800; font-size: clamp(26px, 3vw, 34px); letter-spacing:.2px;}
    .brand .logo{ font-size: 1.1em; line-height:0; filter: drop-shadow(0 6px 18px rgba(124,58,237,.45)); }
    .tagline{ color: var(--muted); margin:.35rem 0 0; max-width: 820px; }

    /* Panel / Form */
    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.02), transparent),
                  var(--panel);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      position: sticky; top: 14px; z-index: 3;
      margin-bottom: 16px;
    }
    .row { display:grid; gap: 12px; grid-template-columns: 1fr; }
    @media (min-width:840px){ .row { grid-template-columns: 1.2fr .6fr; } }

    label { display:block; font-weight:600; margin:8px 0 6px; }
    .select, .input{
      width: 100%; padding: 12px 14px; border-radius: 12px; border:1px solid var(--stroke);
      background: #0b1221; color: var(--text); outline:none;
    }
    .select{ appearance: none; background-image:
      linear-gradient(45deg, transparent 50%, var(--muted) 50%),
      linear-gradient(135deg, var(--muted) 50%, transparent 50%);
      background-position: calc(100% - 22px) calc(50% - 2px), calc(100% - 14px) calc(50% - 2px);
      background-size: 8px 8px, 8px 8px; background-repeat:no-repeat;
    }
    .select:focus, .input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,.15); }
    .checkbox{ display:flex; align-items:center; gap:.55rem; color:var(--muted); margin-top:.35rem; user-select:none; }
    .checkbox input{ width:18px; height:18px; }

    /* Cards grid */
    .grid{ display:grid; gap: 16px; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); }
    .card{
      background: #0c1529; border:1px solid var(--stroke); border-radius: 16px; padding: 12px;
      box-shadow: var(--shadow-soft); transition: transform .16s ease, box-shadow .16s ease, border-color .2s ease;
    }
    .card:hover{ transform: translateY(-2px); box-shadow: var(--shadow); border-color: #3b82f6; }
    .cover{ width:100%; aspect-ratio: 1 / 1; object-fit: cover; border-radius: 12px; }
    h3{ margin:.6rem 0 .15rem; font-size: 1.1rem; }
    .muted{ color: var(--muted); margin:.1rem 0 .35rem; }
    .badge{
      display:inline-block; font-size:.75rem; padding:.18rem .45rem; border-radius: 999px;
      border:1px solid #3b4355; color:#c0cad6; background: rgba(255,255,255,.03); margin-right:.3rem;
    }
    .btn{
      display:inline-block; padding:.55rem .9rem; border-radius: .8rem; text-decoration:none; color:#fff;
      background: linear-gradient(180deg, #0ea5e9, #0284c7); border:1px solid #1f3c5a;
    }
    .btn.secondary{ background: #152033; border:1px solid #2b3a52; }
    audio{ width:100%; margin-top:.45rem; }

    /* Spinner for HTMX */
    .indicator { display:none; margin: 18px auto; width:28px; height:28px; border-radius:50%;
      border:3px solid rgba(255,255,255,.15); border-top-color: var(--brand-2); animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .htmx-request .indicator{ display:block; }

    /* Footer spacing */
    .page-pad{ padding-bottom: 40px; }
  </style>
</head>
<body>
  <main class="container page-pad">
    {% block content %}{% endblock %}
  </main>
</body>
</html>
